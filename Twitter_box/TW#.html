<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <style type="text/css">
  </style>
</head>

<body>
  <form id="form1">
    <div>
      <textarea id="message" name="tweet" rows="5" placeholder="What do you think?"></textarea>
      <button id="button2" type="submit" >Tweet</button>
      <br />
      <div id="counter">0</div>
    </div>
    <div>
      <ul id="tweets-list"></ul>
    

    </div>
  
  </form>



  <script>
    let form = document.querySelector('form');
    let textarea = document.querySelector('#message');
    let list = document.querySelector('#tweets-list');
    let counter = document.querySelector('#counter');
    let button = document.querySelector('#button2');
    let random1 = getRandomInt(0, 10)
    
    randomColorMassage(random1)
    textarea.addEventListener("input", function () {
      updateCounter(textarea.value.length); /*счетчик*/
    })
    
    

    let posts = []  /*создает массив для постов*/

    form.addEventListener('submit', (event) => { 
      event.preventDefault(); /*блокирует перезагрузку страницы*/

      let message = textarea.value  
      posts.push(message)          /* пушит текст в масив постов*/

      form.reset()        /*обновляет поле ввода*/
      updateCounter(0)    /*обновляет счетчик*/
      render()            /*обновляет форматирование массива постов*/
    })
     
     function randomColorMassage (test) {
      if ( test == 1 ) {
        let c = list 
        c.style.cssText = "color: red"
      } else if ( test == 2){
        let s = list
        s.style.cssText = "color: blue"
     } else if ( test == 3){
        let g = list
        g.style.cssText = "color: orangered"
     } else if ( test == 4){
        let h = list
        h.style.cssText = "color: gold"
     } else if ( test == 5){
        let j = list
        j.style.cssText = "color: yellow"
     } else if ( test == 6){
        let k = list
        k.style.cssText = "color: green"
     } else if ( test == 7){
        let l = list
        length.style.cssText = "color: aqua"
     } else if ( test == 8){
        let w = list
        w.style.cssText = "color: purple"
     } else if ( test == 9){
        let q = list
        q.style.cssText = "color: pink"
     }
   }
     function getRandomInt(min, max) {

      return Math.floor(Math.random() * (max - min + 1)) + min;
} 

    function render() {        /*форматирование массива постов*/
      let html = posts
        .map(item => '<li>' + item + '</li>')
        .join('');
      list.innerHTML = html;
    }

    function updateCounter(value) {
      counter.textContent = value;/*вставляет количество символов в html*/
    }



  </script>

</body>

</html>